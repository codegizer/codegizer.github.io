---
published: false
layout: post
title: 반응형 웹 만들기 - 03-1. 미디어 쿼리
excerpt: 가변 그리드 이해하기
toc: true
tags: [책, 반응형웹]
categories: 책
---
# 화면의 크기나 환경에 따라 웹사이트를 변경하는 기술, '미디어 쿼리'

미디어 쿼리는 사실 새로운 기술이 아닙니다. 이미 오래전에 미디어 타입이라는 이름으로 등장한 적이 있는데, 미디어 타입은 말 그대로 미디어의 종류만 감지하기 떄문에 기기의 세부적인 사항들은 감지할 수가 없었습니다. 또한 예전에즌 기기의 종류가 다양하지 않아 사용성에도 의구심을 갖는 사람들이 많아 거의 사용하지 않았던 기술이었죠.

하지만 CSS3가 등장하면서 이 미디어 타입이라는 기술은 '미디어 쿼리'라는 이름으로 바뀌었고 기기의 종류뿐만 아니라 해상도, 비트 수, 가로, 세로 여부 등 세밀한 부분까지 감지할 수 있는 기술이 탑재되면서 반응형 웹의 시작과 함께 웹 개발의 새로운 지평을 열고 있다는 찬사를 받고 있습니다. 

미디어 쿼리는 화면 해상도, 기기 방향 등의 조건으로 HTML에 적용하는 스타일을 전환할 수 있는 CSS3의 속성 중 하나 입니다. 반응형 웹 디자인에서는 미디어 쿼리를 사용해 적용하는 스타일을 기기마다(화면 크기마다) 전환할 수 있습니다.

## 미디어 쿼리의 기본문법
```
@media [only 또는 not] [미디어유형] [and 또는 ,콤마] (조건문) {실행문}
```

**@media**

쿼리 문법의 시작을 알리는 부분 입니다.

**[only 또는 not]**

only 키워드는 미디어 쿼리를 지원하는 브라우저에서만 미디어 쿼리를 해석하게 해주는 키워드 입니다. not 키워드는 not 다음에 따라오는 조건을 부정하는 키워드 입니다. 예를 들어 'not tv'일 경우 tv를 제외한 모든 미디어 유형에만 적용합니다.

**미디어유형**


| 기기명 | 설명 |
|   ------   |   ------   |
|  all  |  모든 장치  |
|  print  |  인쇄 장치  |
|  screen  |  컴퓨터 화면 장치 똔느 스마트 기기의 화면  |
|  tv  |  영상과 음성이 동시에 출력되는 장치  |
|  projection  |  프로젝터 장치  |
|  handheld  |  손에 들고 다니는 소형 장치  |
|  speech  |  음성 출력 장치  |
|  aural  |  음성 합성 장치(화면을 읽어 소리로 출력해주는 장치)  |
|  embossed  |  점자 인쇄 장치(화면을 읽어 종이에 점자를 찍어내는 장치)  |
|  tty  |  디스플레이 기능이 제한된 장치  |
|  braille  |  점자 표시 장치  |

**[and 또는, 콤마]**

and는 앞뒤 조건이 모든 사실일 때 따라오는 것을 해석하라는 의미입니다. ,콤마는 앞뒤 조건 중 하나만 사실이더라도 뒤에 따라오는 것을 해석하라는 의미이빈다. and 또는 ,콤마 선언 역시 생략할 수 있습니다.

```
@media A and B { 실행문}
@media A , B { 실행문}
```

**(조건문)**
(조건문)은 조건문이 사실일 때 뒤에 따라오는 것을 해서하라는 의미 입니다. (조건문은) and나 콤마 기호를 이용하여 두 가지 이상 작성할 수 있으며 생략할 수 있습니다.

```
/* 가로 너비가 320px 이상일 때 실행문을 실행합니다. */
@media (min-width:320px) {실행문}

/* 가로 너비가 320px 이상이고 768px 이하 일떄 실행문을 실행합니다. */
@media (min-width:320px) and (max-width:780px} {실행문}
```


| 조건문 | 설명 | 조건값 | min/max 사용 여부 |
|   ------   |   ------   |   ------   |   ------   |
|  width  |  웹 페이지의 가로 너빗값 |  width 속성에서 사용할 수 있는 모든 속성값  |  사용함 |
|  height  | 웹 페이지의 세로 높잇값  |  width 속성에서 사용할 수 있는 모든 속성값  |  사용함 |
|  device-width  |  기기의 가로 너빗값  |  width 속성에서 사용할 수 있는 모든 속성값  |  사용함 |
|  device-height  |  기기의 세로 높잇값  |  width 속성에서 사용할 수 있는 모든 속성값  |  사용함 |
|  orientation  |  기기의 화면 방향  |  portrait(세로),<br/>landscape(가로)  |  사용안함 |
|  aspect-ratio  |  화면 비율  |  브라우저 화면 비율(1),<br/>브라우저 종횡비(16/9),<br/> 브라우저 해상도(1280/720)  |  사용함 |
|  device-aspect-ratio  |  단말기의 화면 비율  |   기기 화면 비율(1),<br/>기기 종횡비(16/9),<br/> 기기 해상도(640/320)  |  사용함 |
|  color  |  기기의 비트 수  |  8(bit 단위)  |  사용함 |
|  color-index  |  기기의 색상 수 |  128(색상 수 단위)  |  사용함 |
|  monochrome  |  기기가 흑백일 때 픽셀당 비트 수  |  1(bit 단위)   |  사용함 |
|  resolution  |  기기의 해상력 |  300dpi/dpcm  |  사용함 |
|  scan  |  TV의 스캔 방식  | progressive/interlace  |  사용안함 |
|  grid  |  기기의 그리드/비트맵  |  0(비트맵 방식)/1(그리드 방식)  |  사용안함 |


**{실행문}**

{실행문}은 앞의 조건들이 모두 사실일 때 실행되는 실행문 입니다. {실행문}에는 일반적으로 사용하는 CSS 코드를 작성합니다.

```
@media {실행문}
```

## 미디어 쿼리를 적용하는 방법

### 링크방식
CSS 파일 내에 미디어 쿼리를 작성해서 <link></link> 태그로 CSS 파일을 연결하여 적용합니다. 이 방식은 HTML 파일과 CSS 파일을 별도로 관리하므로 불러오는 속도도 빠르고 관리 면에서도 효율적입니다.

```html
<link rel="stylesheet" href="mediaqueries.css" />
```

### 문서내에 작성하는 방식
{% highlight html linenos %}
<head>
<style>
@media all and (min-width:320px){실행문}
</style>
</head>
<body>
...생략...
</body>
{% endhighlight %}

문서내에 작성하는 방식은 HTML 문서내에 미디어 쿼리를 작성하는 방식인데, 이 방식은 어쩔 수 없이 사용해야 하는 상황이 아니라면 피하는 게 좋습니다. 

그 이유는 CSS 코드를 문서 내에 작성하게 될 경우 문서의 용량이 커지고, 이렇게 커진 용량 때문에 속도가 느려져 웹사이트를 방문하는 사용자가 웹사이트를 빨리 볼 수 없기 때문입니다. 

그렇기 때문에 미디어 쿼리를 작성할 떄는 문서 내에 작성하는 방식이 아닌 CSS 파일을 별도로 관리하는 방식을 이용하는 것이 좋습니다.

또한 CSS 파일을 별도로 관리하게 되면 브라우저의 기억 장치 또는 캐싱이라는 특성을 이용해 웹사이트를 다시 방문하는 사용자는 기억 장치에 입력된 CSS 파일을 빠르게 불러와 웹사이트의 속도가 빨라지는 효과를 얻을 수 있습니다.

권장하는 방법은 처음 웹사이트를 개발 시에는 문서내에 작성하고 웹사이트의 모든 개발이 끝난 후에는 반드시 작성한 CSS 코드를 별도의 CSS 파일로 저장하여 앞에서 소개한 링크방시긍로 변경해야 합니다.

## 미디어 쿼리로 브라우저 크기 감지시 주의하기
미디어 쿼리를 처음 사용할 떄는 미디어 쿼리가 어떻게 작동하는지도 모르는 경우가 많습니다. 예를 들어 브라우저의 크기를 감지해서 특저 크기별로 스타일을 적용하고자 할 떄 어떤 대상을 기준으로 크기를 감지하는지 모르고 있는 경우가 대부분이죠. 이처럼 어떤 기준으로 크기를 감지해야 하는지 몰라 웹사이트를 제작할 떄 혼라을 겪을 떄가 있는데, 여기서 알아두어야 할 점은 미디어 쿼리를 이용해서 크기를 감지할 때는 HTML 문서의 크기를 기주으로 감지한다는 것입니다.















